<!DOCTYPE html>
<html lang="zh"> <!--manifest="mycache.appcache"-->
<!--manifest 文件需要配置正确的 MIME-type，即 "text/cache-manifest"。必须在 web 服务器上进行配置，不同的服务器不一样-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Welcome">
    <meta name="author" content="HAHA">
    <link rel="icon" href="img/favicon.ico">
    <title>基于互联网的地理事件可视化</title>

    <!-- Bootstrap core CSS -->
    <link href="lib/bootstrapdist/css/bootstrap.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/mainstyle.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="lib/timeline/timeline.css">
    <link href="lib/leaflet/leaflet.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="lib/flamegraph/d3.flameGraph.css">
    <style>@import url(css/gevs.css);</style> 
    <style>@import url('js/ComicNarrative/narrative.css');</style>
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!--<script src="../../assets/js/ie-emulation-modes-warning.js"></script>-->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
        function showfileinfo () {
          var file;
          for (var i = 0; i < document.getElementById("file").files.length; i++) {
            console.log( document.getElementById("file").files[i]);
          };
        }
        //自动更新：浏览器除了在第一次访问 Web 应用时缓存资源外，只会在 cache manifest 文件本身发生变化（即使是注释变化）时更新缓存。
        //手动更新：
        /*if (window.applicationCache.status == window.applicationCache.UPDATEREADY) ｛  
            window.applicationCache.update();   
        ｝*/
    </script>
  </head>

  <body>
  <!--导航条-->
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
        <a class="navbar-brand" href="#">党的代表大会可视化</a>
      </div>
      <div class="navbar-collapse collapse" id="navbar">
        <ul class="nav navbar-nav navbar-right">
          <li class="active"><a href="#mapdiv">地图</a></li>
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">关系</a>
            <ul class="dropdown-menu">
            <li class="dropdown-header">关系分析</li>
            <li><a href="#relations">人物关系</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#relations">组织关系</a></li>
            </ul>
          </li>
          <li><a href="#property">属性</a></li>
          <li><a href="#eventstory2">事件流</a></li>
        </ul>
        <form class="navbar-form navbar-left" role="search">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="用户名">
          </div>
           <div class="form-group">
            <input type="text" class="form-control" placeholder="密码">
          </div>
          <button type="submit" class="btn btn-default">登录</button>
        </form>

        <form class="navbar-form navbar-right" role="search">
          <input type="text" class="form-control" placeholder="Search..." id="SearchText">
          <button type="submit" class="btn btn-default" id="SearchLoc">搜索</button>
        </form>
      </div>
    </div>
  </nav><!--导航条-->
  <!-- Carousel -->
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
        <li data-target="#myCarousel" data-slide-to="3"></li>
      </ol>
      <div class="carousel-inner" role="listbox">
        <div class="item active">
          <img class="first-slide" src="img/carousel/1.jpg" alt="First slide">
          <div class="container">
            <div class="carousel-caption">
              <h1>地理信息框架</h1>
              <p></p>
              <p><a class="btn btn-md btn-primary" href="#mapdiv" role="button">转到页面</a></p>
            </div>
          </div>
        </div>
        <div class="item">
          <img class="second-slide" src="img/carousel/2.jpg" alt="Second slide">
          <div class="container">
            <div class="carousel-caption">
              <h1>组织关系图</h1>
              <p></p>
              <p><a class="btn btn-md btn-primary" href="#relations" role="button">转到页面</a></p>
            </div>
          </div>
        </div>
        <div class="item">
          <img class="third-slide" src="img/carousel/3.jpg" alt="Third slide">
          <div class="container">
            <div class="carousel-caption">
              <h1>属性数据图</h1>
              <p></p>
              <p><a class="btn btn-md btn-primary" href="#property" role="button">转到页面</a></p>
            </div>
          </div>
        </div>
        <div class="item">
          <img class="second-slide" src="img/carousel/4.jpg" alt="Second slide">
          <div class="container">
            <div class="carousel-caption">
              <h1>事件故事流</h1>
              <p></p>
              <p><a class="btn btn-md btn-primary" href="#eventstory2" role="button">转到页面</a></p>
            </div>
          </div>
        </div>
      </div>
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">上一页</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">下一页</span>
      </a>
  </div><!-- /.carousel -->  
  <!-- 整体布局3列 --> 
  <div class="container-fluid"> 
    <div class="row">
      <!-左侧栏->  
      <div class="col-md-1 sidebar main">
        <ul class="nav nav-sidebar">
          <li class="active"><a href="#">概览<span class="sr-only">(current)</span></a></li>
          <li><a href="#">一大</a></li>
          <li><a href="#">二大</a></li>
          <li><a href="#">三大</a></li>
        </ul>
        <ul class="nav nav-sidebar">
          <li><a href="">抗日</a></li>
          <li><a href="">战役1</a></li>
          <li><a href="">战役2</a></li>
          <li><a href="">战役3</a></li>
          <li><a href="">战役4</a></li>
        </ul>
      </div> <!-左侧栏-> 

      <!-中间栏-> 
      <div class="col-md-10">
        <!-主要内容->
        <div class="container-fluid">
          <!-简介 ->
          <div class="row sumerary">
              <div class="col-md-4">
                  <img class="img-circle" src="img/1d.jpg">
                  <h2>党的一大</h2>
                  <p class="lead">中国共产党第一次全国代表大会于1921年7月23日至31日在上海法租界贝勒路树德里3号（后称望志路106号，现改兴业路76号）召开。出席大会的各地代表共12人。</p>
                  <p><a class="btn btn-default" href="http://baike.baidu.com/view/55587.htm" target="_blank" role="button">转到页面</a></p>
              </div>
              <div class="col-md-4">
                  <img class="img-circle" src="img/2d.jpg">
                  <h2>党的二大</h2>
                  <p class="lead">中国共产党第二次全国代表大会于1922年7月16日至23日在上海英租界南成都路辅德里625号（现成都北路7弄30号）举行。出席大会的有党的中央局成员、地方组织的代表等共12人。</p>
                  <p><a class="btn btn-default" href="http://baike.baidu.com/view/55611.htm" target="_blank" role="button">转到页面</a></p>
              </div>
              <div class="col-md-4">
                  <img class="img-circle" src="img/3d.jpg">
                  <h2>党的三大</h2>
                  <p class="lead">中国共产党第三次全国代表大会于1923年6月12日至20日在广州恤孤院后街31号召开。出席大会有30多人（其中有表决权19人），代表全国420名党员。共产国际代表马林参加了会议。</p>
                  <p><a class="btn btn-default" href="http://baike.baidu.com/view/55617.htm" target="_blank" role="button">转到页面</a></p>
              </div>
          </div><!-简介 ->
          <!-关键内容->
          <div class="row"> 
            <!-显示地图和时间->
            <div class="col-md-8" id="a"> 
                <!-显示地图->
                <div class="row">
                  <!- 标签->  
                  <ul class="nav nav-tabs" role="tablist" id="myTabWhole">
                      <li class="active"><a href="#mapdiv" role="tab" data-toggle="tab">地图概览</a></li>               
                      <li><a href="#global3Ddiv" role="tab" data-toggle="tab">三维动态</a></li>
                      <li><a href="#wholePropert" role="tab" data-toggle="tab">属性分析</a></li> 
                      <li><a href="#wholeNavPic" role="tab" data-toggle="tab">图解导航</a></li>                    
                  </ul><!- 标签-> 
                  <!- 标签页-class="tab-pane">  
                  <div class="tab-content">
                    <div class="tab-pane active" id="mapdiv" style="position:relative;">
                        <!--<div class="mapdiv1" id="mapdiv1" style="height:100%;width:100%;position:absolute;"></div>
                        <div class="heatmapcanvas" id="heatmapcanvas" style="height:100%;width:100%;position:absolute;"></div>-->
                        <div class="pantool" id="pantool"></div>
                        <div class="rightpanel" id="rightpanel"></div>
                        <div class="bottompanel" id="bottompanel"></div>
                    </div>
                    <div class="tab-pane" id="global3Ddiv" style="position:relative;"> 
                    </div>
                    <div class="tab-pane" id="wholePropert" style="position:relative;"> 
                          <div class="row">
                            <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" id="col-4"> 
                                  <div id="wholePropert1"> </div>
                            </div>
                            <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" id="col-4"> 
                                  <div id="wholePropert2"> </div>
                            </div>
                            <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" id="col-4"> 
                               <div id="wholePropert3"> </div>
                            </div>
                          </div>
                         <div class="row">
                            <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" id="col-4"> 
                                  <div id="wholePropert4"> </div>
                            </div>
                            <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" id="col-4"> 
                                  <div id="wholePropert5"> </div>
                            </div>
                            <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" id="col-4"> 
                                  <div id="wholePropert6"> </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" id="col-4"> 
                                  <div id="wholePropert7"> </div>
                            </div>
                            <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" id="col-4"> 
                                  <div id="wholePropert8"> </div>
                            </div>
                            <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" id="col-4"> 
                                  <div id="wholePropert9"> </div>
                            </div>
                          </div>
                    </div>
                    <div class="tab-pane" id="wholeNavPic" style="position:relative;"> 

                    </div>
                  </div> <!- 标签页->  
                </div><!-显示地图-> 
                <!-显示时间-> 
                <div class="row">
                    <div id="eventstory"></div><!-eventdrop-> 
                </div><!-显示时间-> 
            </div><!-显示地图和时间->
            <!-显示其他-> 
            <div class="col-md-4" id="b">
                <!-显示关系-> 
                <div class="row">
                  <!- 标签->  
                  <ul class="nav nav-tabs" role="tablist" id="myTabRelations">
                      <li class="active"><a href="#relations" role="tab" data-toggle="tab">组织关系</a></li>
                      <li><a href="#relation2" role="tab" data-toggle="tab">人物关系</a></li>
                  </ul><!- 标签-> 
                  <!- 标签页-class="tab-pane">  
                  <div class="tab-content">
                     <div class="tab-pane active" id="relations"></div>
                     <div class="tab-pane " id="relation2"></div>  
                  </div>
                </div><!-显示关系-> 
                <!-显示属性-> 
                <div class="row">
                 <!- 标签->  
                  <ul class="nav nav-tabs" role="tablist" id="myProperty">
                      <li class="active"><a href="#property" role="tab" data-toggle="tab">属性1</a></li>
                      <li><a href="#property2" role="tab" data-toggle="tab">属性2</a></li>
                      <li><a href="#property3" role="tab" data-toggle="tab">属性3</a></li>
                      <li><a href="#property4" role="tab" data-toggle="tab">属性4</a></li>
                  </ul><!- 标签-> 
                  <!- 标签页-class="tab-pane">  
                  <div class="tab-content">
                      <div class="tab-pane col-md-12 active" id="property"></div> 
                      <div class="tab-pane col-md-12" id="property2"></div> 
                      <div class="tab-pane col-md-12" id="property3"></div> 
                      <div class="tab-pane col-md-12" id="property4"></div> 
                  </div>
                </div><!-显示属性-> 
            </div><!-显示其他-> 
          </div> <!-关键内容->
          <!-组织维度故事线->
          <div class="row">
              <div class="col-md-12" id="eventstory1"></div><!-timeline-> 
          </div><!-组织维度故事线->
          <!-人物维度故事线->
          <div class="row">
              <div  class="col-md-12" id="eventstory2"> </div><!-comicnarrative-> 
          </div><!-人物维度故事线->

          <div class="row">
              <div  class="col-md-12" id="eventstory3"> </div><!-swimlane-> 
          </div>

          <!--<div class="row">
              <div  class="col-md-12" id="eventstory4"> </div><!-streamgraph-> 
          </div>-->
          <!--Panel布局
          <div class="container-fluid">
            <div class="row">
              <h1 class="page-header">管理控制台</h1>

              <p>
              <!-一组按钮控件->
              <button type="button" class="btn btn-md btn-default">操作1</button>
              <button type="button" class="btn btn-md btn-primary">操作2</button>
              <button type="button" class="btn btn-md btn-success">操作3</button>
              <button type="button" class="btn btn-md btn-info">操作4</button>
              <button type="button" class="btn btn-md btn-warning">操作5</button>
              <button type="button" class="btn btn-md btn-danger">操作6</button>
              </p>
              <div class="row">
                <div class="col-md-6">
                  <!-panel面板，里面放置一些控件，下同->
                  <div class="panel panel-primary">
                  <!-panel面板的标题，下同->
                      <div class="panel-heading">
                      <h3 class="panel-title">最新提醒</h3>
                      </div>
                      <!-panel面板的内容，下同->
                      <div class="panel-body">
                          <div class="alert alert-success" role="alert">
                          <strong>提示</strong>您的订单（2014001）已经审批通过！
                          </div>
                          <div class="alert alert-danger" role="alert">
                          <strong>提示</strong>您的订单（2014002）被打回！
                          </div>
                          <div class="alert alert-warning" role="alert">
                          <strong>提示</strong>您的订单（2013001）客户付款延迟！
                          </div>
                      </div>
                  </div>
                </div>
                <div class="col-md-6">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                        <h3 class="panel-title">我的任务</h3>
                        </div>
                        <div class="panel-body">
                        <ul class="nav nav-pills nav-stacked" role="tablist">
                        <li role="presentation">
                        <a href="#" class="alert alert-info">
                        <span class="badge pull-right">42</span>
                        订单审批
                        </a>
                        </li>
                        <li role="presentation">
                        <a href="#" class="alert alert-info">
                        <span class="badge pull-right">20</span>
                        收款确认
                        </a>
                        </li>
                        <li role="presentation">
                        <a href="#" class="alert alert-info">
                        <span class="badge pull-right">10</span>
                        付款确认
                        </a>
                        </li>
                        </ul>
                        </div>
                    </div>
                </div>
              </div>
            </div>  
          </div>
          Panel布局-->
          <!--读取文件
          <div class="row" id="fileRead" style="margin:10px">
            <input type="file" id="file" multiple>
            <input type="button" onclick="showfileinfo()" value="显示文件信息">
          </div>读取文件-->
        </div><!-主要内容-> 
      </div> <!-中间栏-> 

      <!-右侧栏-> 
      <div class="col-md-1">
        <h4>关于介绍</h4>
        <p>课题组：<hr>联系电话：18678193398<hr></p>
        <p>邮箱：125015532@qq.com</p>
        <br/>
        <p>地址：河南省郑州市陇海中路66号</p>
      </div> <!-右侧栏-> 
    </div>
  </div><!-- 整体布局3列 -->  

  <footer class="footer">
    <p class="pull-right"><a href="#top">回到顶部</a></p>
    <p>&copy; Company 2014</p>
  </footer>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="lib/jquery-2.1.4.js"></script>
  <script src="lib/bootstrapdist/js/bootstrap.js"></script>
  <script type="text/javascript" src="lib/d3.v3.js"></script>
  <!--<script type="text/javascript" src="lib/d3.layout.js"></script>-->
  <script type="text/javascript" src="lib/topojson.js"></script>
  <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
  <!--<script src="../../assets/js/vendor/holder.min.js"></script>-->
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <!--<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>-->
  <script type="text/javascript" src="lib/fisheye.js"></script>
  <script type="text/javascript" src="js/global.js"></script>
  <script type="text/javascript" src="lib/d3.layout.cloud.js"></script>
  <script type="text/javascript" src="js/tools.js"></script>
  <script type="text/javascript" src="lib/leaflet/leaflet.js"></script>
  <script type="text/javascript" src="lib/heatmap.js"></script>
  <script type="text/javascript" src="js/geo.v3.js"></script>
  <script type="text/javascript" src="js/geopanel.js"></script> 
  <script type="text/javascript" src="js/arrowmaker.js"></script>
  <script type="text/javascript" src="js/heatmap_d3.js"></script>
  <!--<script type="text/javascript" src="js/flights.js"></script>-->
  <script type="text/javascript" src="js/jqueryApp.js"></script>
  <script type="text/javascript" src="lib/eventDrops.js"></script>
  <script type="text/javascript" src="lib/timeline/timeline.js"></script>
  <!--<script type="text/javascript" src="lib/protovis-r3.2.js"></script>StreamGragh-->
  <script type="text/javascript" src="js/mytimeline.js"></script>
  <script type="text/javascript" src="js/ComicNarrative/catxml.js"></script>
  <script type="text/javascript" src="js/ComicNarrative/narrative.js"></script>
  <script type="text/javascript" src="lib/circularHeatChart.js"></script>
  <script type="text/javascript" src="js/swimlane/randomData.js"></script>
  <script type="text/javascript" src="js/swimlane/swimlane.js"></script>
  <script type="text/javascript" src="lib/flamegraph/index.flameGraph.js"></script>
  <script type="text/javascript" src="lib/flamegraph/d3.flameGraph.js"></script>
  <script>
  //注意按照顺序
    //mytimeline.js
    DrawEventstory("eventstory","100%","200px"); 
    //tools.js
    DrawRadialTree(d3.select("#relations").append("svg"),$("#relations").width(),($("#mapdiv").height()+$("#eventstory").height()-40)/2);
    //tools.js
    DrawHeatMap(d3.select("#property").append("svg"),$("#relations").width(),($("#mapdiv").height()+$("#eventstory").height()-40)/2);
    //mytimeline.js
    //只能设置宽度，高度根据内容多少
    DrawEventstory1("#eventstory1",$("#eventstory1").width());
    d3.select("#eventstory2").style("height",$("#eventstory1").height()+"px");
    //narrative.js
    DrawEventstory2("#eventstory2",$("#eventstory2").width(),$("#eventstory2").height());
    d3.select("#eventstory3").style("height","500px");
    //swimlane.js
    Draweventstory3("#eventstory3",$("#eventstory3").width(),$("#eventstory3").height());
    d3.select("#eventstory4").style("height","300px");
    //Draweventstory4("#eventstory4",$("#eventstory4").width(),$("#eventstory4").height());
    var wordsdata = ["Hello", "world", "normally", "you", "want", "more", "words","than", "this","Hello", "world", "normally", "you", "want", "more", "words","than", "this","Hello", "world", "normally", "you", "want", "more", "words","than", "this","Hello", "world", "normally", "you", "want", "more", "words","than", "this"];
    DrawWordCloud(d3.select("#wholeNavPic").append("svg"),$("#wholeNavPic").height(),$("#wholeNavPic").height(),wordsdata);

    d3.select("#relation2").style("height",$("#relations").height()+"px");
    DrawForceGraph(d3.select("#relation2").append("svg"),$("#relations").width(),$("#relations").height());

    d3.select("#property2").style("height",$("#property").height()+"px");
    DarwParallel(d3.select("#property2").append("svg"),$("#property").width(),$("#property").height());

    d3.select("#property3").style("height",$("#property").height()+"px");
    DrawTreeMap("#property3",$("#property").width(),$("#property").height());

    d3.select("#property4").style("height",$("#property").height()+"px");
    DrawFlameGraph("#property4",$("#property").width(),$("#property").height());

    DrawCircularheat("#wholePropert1",$("#eventstory").width()/3-10-20,$("#wholePropert1").height());
    DrawBarChart("#wholePropert2",$("#eventstory").width()/3-10-20,$("#wholePropert2").height());
    DrawCircleChart("#wholePropert3",$("#eventstory").width()/3-10-20,$("#wholePropert3").height());
    DrawStackedBarChart("#wholePropert4",$("#eventstory").width()/3-10-40,$("#wholePropert4").height());
    DrawMultiLine("#wholePropert5",$("#eventstory").width()/3-10-20,$("#wholePropert5").height());
    DrawScatterPlot("#wholePropert6",$("#eventstory").width()/3-10-20,$("#wholePropert6").height());
    Draw3DDonut("#wholePropert7",$("#eventstory").width()/3-10-20,$("#wholePropert7").height());
    DrawAreaTime("#wholePropert8",$("#eventstory").width()/3-10-20,$("#wholePropert8").height())
    //DrawSunburst(d3.select("#wholePropert9").append("svg"),$("#eventstory").width()/3-10-20,$("#wholePropert8").height(),($("#eventstory").width()/3-10-20)/2,($("#eventstory").width()/3-10-20)/2,$("#wholePropert8").height()/2,[]);
    DrawCirclePacking("#wholePropert9",$("#eventstory").width()/3-10-20,$("#wholePropert9").height(),$("#wholePropert9").height());
  </script>

  </body>
</html>
